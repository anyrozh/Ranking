Проект: Поисковая система 
Архитектура: KNRM 
Микросервис: Flask


1. #### **/ping - Проверяет все ли работает в системе**

2. #### **/update_index - Создание поискового индекса** 

Вход: {"documents": {"id1": "text1", "id2": "text2", ...}}-)

Препроцессинг каждого документа:
   • Удаление пунктуации
   • Приведение к нижнему регистру
   • Токенизация (nltk.word_tokenize)

Векторизация для FAISS:
   • Для каждого токена ищем вектор в GloVe
   • Усредняем векторы токенов документа
   • Нормализуем L2 (для косинусного сходства)

Создание FAISS индекса:
   • IndexFlatIP (Inner Product = косинусное сходство)
   • Добавление всех векторов документов
   • Сохранение mapping: id → текст

Выход: {"status": "ok", "index_size": N}

3. #### **/query  - Поиск похожих вопросов** 

Вход: {"queries": ["query1", "query2", ...]}

Для каждого запроса:

Фильтрация по языку (LangDetect)
     • detect(query) → язык
     • Если не "en" → возвращаем None

FAISS поиск (быстрый поиск кандидатов)
     • Векторизация запроса (как в 1.2)
     • Поиск 100 ближайших соседей
     • Возврат (id, текст) кандидатов

KNRM реранжирование (точное ранжирование)
   • Токенизация запроса и кандидатов
    • Конвертация в индексы через словарь
    • Padding до 30 токенов
    • Пакетная обработка через KNRM
    • Предсказание релевантности
    • Сортировка по убыванию score

Формирование ответа
     • Берем топ-10 результатов  • Формат: [(id1, text1), (id2, text2), ...]
