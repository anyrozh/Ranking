Проект: Поисковая система 
Архитектура: KNRM 
Микросервис: Flask


1. #### **/ping - Проверяет все ли работает в системе**

2. #### **/update_index - Создание поискового индекса** 

2.1. Вход: {"documents": {"id1": "text1", "id2": "text2", ...}}-)

2.2. Препроцессинг каждого документа:
   • Удаление пунктуации
   • Приведение к нижнему регистру
   • Токенизация (nltk.word_tokenize)

2.3. Векторизация для FAISS:
   • Для каждого токена ищем вектор в GloVe
   • Усредняем векторы токенов документа
   • Нормализуем L2 (для косинусного сходства)

2.4. Создание FAISS индекса:
   • IndexFlatIP (Inner Product = косинусное сходство)
   • Добавление всех векторов документов
   • Сохранение mapping: id → текст

- Выход: {"status": "ok", "index_size": N}

3. #### **/query  - Поиск похожих вопросов** 

3.1. Вход: {"queries": ["query1", "query2", ...]}

Для каждого запроса:

3.2. Фильтрация по языку (LangDetect)
     • detect(query) → язык
     • Если не "en" → возвращаем None

3.3. FAISS поиск (быстрый поиск кандидатов)
     • Векторизация запроса (как в 1.2)
     • Поиск 100 ближайших соседей
     • Возврат (id, текст) кандидатов

3.4. KNRM реранжирование (точное ранжирование)
    • Токенизация запроса и кандидатов
    • Конвертация в индексы через словарь
    • Padding до 30 токенов
    • Пакетная обработка через KNRM
    • Предсказание релевантности
    • Сортировка по убыванию score

3.5. Формирование ответа
     • Берем топ-10 результатов  • Формат: [(id1, text1), (id2, text2), ...]
